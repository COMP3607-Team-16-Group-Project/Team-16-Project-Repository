//----------------------
//MethodBehavior Class:
//----------------------




//-------------------
//Maven Package Name:
//-------------------
package com.example;
//-------------------




//-------------------------
//Import Statements:
//-------------------------
import java.io.File;
import java.nio.file.Files;
import java.util.List;
//-------------------------


//--------------------------------------------------------------------------------------------------------------------------
//Class Body:
//--------------------------------------------------------------------------------------------------------------------------
public class MethodBehavior implements Evaluation {
    //----------------------------------------------------------------------------------------------------------------------
    //Attributes:
    //----------------------------------------------------------------------------------------------------------------------
    private String feedback;
    //----------------------------------------------------------------------------------------------------------------------




    //----------------------------------------------------------------------------------------------------------------------
    //Methods:
    //----------------------------------------------------------------------------------------------------------------------
    //---------------------------------------------------------------------------------------------
    //Evaluate Method:
    //---------------------------------------------------------------------------------------------
    @Override
    public int evaluate(File javaFile) {
        try {
            //-------------------------------------------------------------------------------------
            //Initialize Variables:
            //-------------------------------------------------------------------------------------
            List<String> lines = Files.readAllLines(javaFile.toPath());
            boolean hasRequiredMethod = false;
            boolean hasProperNaming = true;
            //-------------------------------------------------------------------------------------




            //-------------------------------------------------------------------------------------
            //Check for methods and proper naming:
            //-------------------------------------------------------------------------------------
            for (String line : lines) {
                // Example: Check for a specific required method
                if (line.contains("public String generateResponse")) {
                    hasRequiredMethod = true;
                }

                // Check for method naming convention
                if (line.matches(".*void [A-Z].*")) { // Improper method naming
                    hasProperNaming = false;
                }
            }
            //-------------------------------------------------------------------------------------




            //-------------------------------------------------------------------------------------
            //Score Submission:
            //-------------------------------------------------------------------------------------
            if (!hasRequiredMethod) {
                feedback = "Missing required method: public String generateResponse.";
                return 5; // Deduct points for missing method
            }

            if (!hasProperNaming) {
                feedback = "Method names should start with a lowercase letter.";
                return 7; // Deduct points for naming issues
            }

            feedback = "Methods follow expected behaviors.";
            return 10; // Full points
            //-------------------------------------------------------------------------------------
        }
        //-----------------------------------------------------------------------------------------
        //Check for failure to read file:
        //-----------------------------------------------------------------------------------------
        catch (Exception e) {
            feedback = "Error reading file: " + e.getMessage();
            return 0; // No points if an error occurs
        }
        //-----------------------------------------------------------------------------------------
    }
    //---------------------------------------------------------------------------------------------




    //---------------------------------------------------------------------------------------------
    //Getter Methods:
    //---------------------------------------------------------------------------------------------
    @Override
    public String getFeedback() {
        return feedback;
    }
    //---------------------------------------------------------------------------------------------
}
//--------------------------------------------------------------------------------------------------------------------------
